import{q as b,u as v,m,a as c,_ as f,R as g,r as y,o as n,b as i,e as t,F as C,d as w,f as p,g as _,t as o,k as x,v as D,l as V,w as $,h,p as S,i as T}from"./index-23e2643d.js";import{c as d,a as k}from"./cart-e1f68f95.js";const{VITE_URL:I,VITE_PATH:R}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"neil-hexschool",BASE_URL:"/CNC-Website-Project/",MODE:"production",DEV:!1,PROD:!0},E=b("coupon",{state:()=>({data:{code:""}}),actions:{getCoupon(){v.post(`${I}/v2/api/${R}/coupon`,{data:this.data}).then(()=>{this.toastAlert.fire({icon:"success",title:"已套用優惠券"}),this.getCart()}).catch(e=>{this.toastAlert.fire({icon:"error",title:e.response.data.message})})},...m(d,["getCart"])},getters:{...c(k,["toastAlert"])}});const N={data(){return{}},components:{RouterLink:g},methods:{...m(d,["deleteCartId"])},computed:{...c(d,["cartData"]),...c(E,["data","getCoupon","final_total"])}},a=e=>(S("data-v-21066079"),e=e(),T(),e),A={class:"container py-5 text-light",style:{"margin-top":"99px"}},L=V('<div class="cart_item" data-v-21066079><div class="cart_title d-flex align-items-center mb-4 mb-sm-0" data-v-21066079><i class="bi bi-cart3 fs-1" data-v-21066079></i><h3 class="fs-1 mb-0 ms-3" data-v-21066079>購物車</h3></div><ul class="nav" data-v-21066079><li class="nav_item p-2 bg-secondary" data-v-21066079><p class="mb-0" data-v-21066079>步驟一<br data-v-21066079>確認購物車</p></li><li class="nav_item p-2" data-v-21066079><p class="mb-0" data-v-21066079>步驟二<br data-v-21066079>訂單資訊</p></li><li class="nav_item p-2" data-v-21066079><p class="mb-0" data-v-21066079>步驟三<br data-v-21066079>結帳</p></li></ul></div><hr data-v-21066079>',2),j={class:"row g-4"},B={class:"col-12 col-md-8"},U={class:"table align-middle text-center text-light"},P=a(()=>t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"課程"),t("th",null,"價格"),t("th")])],-1)),M={style:{"max-width":"150px"}},F=["src"],H=["onClick"],O=a(()=>t("i",{class:"bi bi-trash3 text-light"},null,-1)),q=[O],W={class:"col-12 col-md-4 p-3"},z=a(()=>t("h4",{class:"fs-3 mb-3"},"帳單資訊",-1)),G={class:"border-top border-bottom pt-4 mb-4 fs-5"},J={class:"d-flex justify-content-between align-items-center"},K=a(()=>t("p",null,"購課數量",-1)),Q={class:"d-flex justify-content-between align-items-center"},X=a(()=>t("p",null,"金額",-1)),Y={class:"d-flex justify-content-between align-items-center"},Z=a(()=>t("p",null,"折扣",-1)),tt={class:"input-group mb-3 mt-5"},et={class:"d-flex justify-content-between align-items-center fs-3"},st=a(()=>t("p",null,"總金額",-1));function at(e,l,ot,lt,nt,it){var u;const r=y("RouterLink");return n(),i("section",A,[L,t("div",j,[t("div",B,[t("table",U,[P,t("tbody",null,[(n(!0),i(C,null,w(e.cartData.carts,s=>(n(),i("tr",{key:s.id},[t("td",M,[t("img",{src:s.product.imageUrl,class:"img-fluid",alt:""},null,8,F)]),t("td",null,o(s.product.title),1),t("td",null,"$ "+o(s.final_total),1),t("td",null,[t("a",{href:"#",onClick:$(ct=>e.deleteCartId(s.id),["prevent"])},q,8,H)])]))),128))])]),p(r,{to:"/course/category/all",class:"btn btn-outline-light mt-2"},{default:_(()=>[h("返回課程列表")]),_:1})]),t("div",W,[z,t("ul",G,[t("li",J,[K,t("p",null,o((u=e.cartData.carts)==null?void 0:u.length)+" 門",1)]),t("li",Q,[X,t("p",null,"NT$ "+o(e.cartData.total),1)]),t("li",Y,[Z,t("p",null,"NT$ -"+o(e.cartData.total-e.cartData.final_total),1)]),t("div",tt,[x(t("input",{type:"text",class:"form-control",placeholder:"輸入優惠代碼","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":l[0]||(l[0]=s=>e.data.code=s)},null,512),[[D,e.data.code]]),t("button",{class:"btn btn-outline-success",type:"button",id:"button-addon2",onClick:l[1]||(l[1]=s=>e.getCoupon())},"Button")])]),t("div",null,[t("div",et,[st,t("p",null,"NT$ "+o(e.cartData.final_total),1)]),p(r,{to:"/order",class:"btn btn-lg btn-secondary text-light w-100"},{default:_(()=>[h("確認")]),_:1})])])])])}const ut=f(N,[["render",at],["__scopeId","data-v-21066079"]]);export{ut as default};
