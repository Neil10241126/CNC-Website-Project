import{_ as g,r as b,o as a,b as n,e,t as c,k as f,x as m,F as y,d as v,f as x,g as V,p as w,i as E,h as I}from"./index-23e2643d.js";const{VITE_URL:d,VITE_PATH:_}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"neil-hexschool",BASE_URL:"/CNC-Website-Project/",MODE:"production",DEV:!1,PROD:!0},{RouterLink:$}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"neil-hexschool",BASE_URL:"/CNC-Website-Project/",MODE:"production",DEV:!1,PROD:!0},T={props:["category"],data(){return{products:[],pageId:this.$route.params.cateId,pageName:"全部課程",selectValue:"排序",loader:{}}},components:{RouterLink:$},watch:{$route(t){this.pageId=t.params.cateId,this.category.forEach(s=>{this.pageId===s.cateId&&(this.getProducts(s.cate),this.pageName=s.name)})},selectValue(){this.sortArray()}},methods:{getProducts(t){this.loader=this.$loading.show({active:!0,canCancel:!0,onCancel:this.onCancel});let s=`${d}/v2/api/${_}/products`;typeof t=="string"?s=`${d}/v2/api/${_}/products/?category=${t}`:typeof t=="number"&&(s=`${d}/v2/api/${_}/products/?page=${t}`),this.$http.get(s).then(i=>{this.products=i.data.products;const h=[];this.products.forEach(r=>{h.push(r.content)}),this.loader.hide()}).catch(()=>{})},getTeacher(t){let s="";return this.category.forEach(i=>{i.cate===t&&(s=i.teacher)}),s},sortArray(){this.selectValue==="priceUp"?this.products.sort((t,s)=>t.price-s.price):this.selectValue==="priceDown"&&this.products.sort((t,s)=>s.price-t.price)}},mounted(){this.getProducts()}},l=t=>(w("data-v-1639ccb0"),t=t(),E(),t),C={class:"d-flex justify-content-between align-items-center mb-4 px-3 border-start border-3"},D={class:"fs-3 text-light"},L=l(()=>e("option",{selected:"",disabled:""},"排序",-1)),k=l(()=>e("option",{value:"priceUp"},"價格由低至高",-1)),P=l(()=>e("option",{value:"priceDown"},"價格由高至低",-1)),R=[L,k,P],U={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 m-0 p-0 border-top"},N={class:"card border-light h-100"},A={class:"card_img"},S=["src"],j=l(()=>e("button",{type:"button",class:"add_button btn btn-danger rounded-0 fs-5 w-100"},[e("i",{class:"bi bi-bag me-3"}),I("查看細節")],-1)),B={class:"card-body text-center"},O={key:0},H={class:"card-text fs-2"},M={key:1,class:"d-flex justify-content-center align-items-center"},F={class:"card-text fs-2 mb-0 me-3"},W={class:"card-text fs-3 text-danger"},q={class:"card-title"},z={class:"m-2"},G={class:"badge rounded-pill bg-success fs-6"},J={class:"row g-0 text-center border-top border-primary border-2"},K={class:"col border-end border-primary border-2 m-0 py-2"},Q={class:"col m-0 py-2"};function X(t,s,i,h,r,p){const u=b("RouterLink");return a(),n("main",null,[e("div",C,[e("h3",D,c(r.pageName),1),f(e("select",{class:"form-select w-50 w-md-25","aria-label":"Default select example","onUpdate:modelValue":s[0]||(s[0]=o=>r.selectValue=o)},R,512),[[m,r.selectValue]])]),e("ul",U,[(a(!0),n(y,null,v(r.products,o=>(a(),n("li",{class:"col",key:o.id},[x(u,{to:`/course/${o.id}`,class:"card_link"},{default:V(()=>[e("div",N,[e("div",A,[e("img",{src:o.imageUrl,class:"card-img-top",alt:"...",style:{"object-fit":"cover",height:"200px"}},null,8,S),j]),e("div",B,[o.origin_price===o.price?(a(),n("div",O,[e("p",H,"$ "+c(o.origin_price),1)])):(a(),n("div",M,[e("p",F,[e("del",null,"$ "+c(o.origin_price),1)]),e("p",W,"$ "+c(o.price),1)])),e("h5",q,c(o.title),1)]),e("div",z,[e("span",G,c(o.category),1)]),e("div",J,[e("p",K,c(p.getTeacher(o.category)),1),e("p",Q,c(o.content)+" 小時",1)])])]),_:2},1032,["to"])]))),128))])])}const Z=g(T,[["render",X],["__scopeId","data-v-1639ccb0"]]);export{Z as default};
